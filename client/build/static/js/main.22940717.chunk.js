(this["webpackJsonpclient-app"]=this["webpackJsonpclient-app"]||[]).push([[0],{31:function(e,t,a){e.exports={form:"Form_form__B86yQ"}},42:function(e,t,a){e.exports=a(74)},47:function(e,t,a){},48:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),l=a.n(c),o=(a(47),a(48),a(31)),i=a.n(o),u=(a(49),function(e){return r.a.createElement("div",{id:i.a.form,className:"z-depth-4"},r.a.createElement("h1",null,"Auth"),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{onChange:function(t){var a=t.target.value;e.updateEmailValue(a)},id:"email",type:"text",className:""}),r.a.createElement("label",{htmlFor:"email"},"E-mail")),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{onChange:function(t){var a=t.target.value;e.updatePasswordValue(a)},id:"password",type:"password",className:""}),r.a.createElement("label",{htmlFor:"password"},"Password")),r.a.createElement("button",{onClick:function(){return e.sendAuthData()},className:"waves-effect waves-light btn"},"SEND"))}),s=a(9),f=a(2),m={email:"",password:""},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_EMAIL":return Object(f.a)({},e,{email:t.newEmail});case"UPDATE_PASSWORD":return Object(f.a)({},e,{password:t.newPassword});default:return e}},d=a(19),E=a.n(d),h=a(33),b=a(34),v=a(12),g=a(35),T={object:{"property-1":"","property-2":"","property-3":""},propertyCount:3},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_PROPERTY_COUNT":for(var a={},n=1;n<=+t.newCount;n++)a["property-"+n]="";return Object(f.a)({},e,{object:Object(f.a)({},a),propertyCount:+t.newCount});case"CHANGE_PROPERTY_VALUE":var r=Object(f.a)({},e.object);return r[t.nameInput]=t.newPropertyValue,Object(f.a)({},e,{object:Object(f.a)({},r)});case"GET_PROPERTY_VALUE":return e.object[t.nameInput];default:return Object(f.a)({},e)}},y={trafficData:[],totalTraffic:0,isFetching:!1},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TRAFFIC_DATA":try{var a=0,n=[];return t.trafficData.map((function(e){return a+=e.traffic})),t.trafficData.map((function(e,t){return n[t]=Object(f.a)({},e,{trafficPercent:Math.floor(e.traffic/(a/100))})})),Object(f.a)({},e,{trafficData:n.filter((function(e){return e.trafficPercent>2})),totalTraffic:a})}catch(r){console.log(r)}return Object(f.a)({},e);case"REFRESH_TRAFFIC_DATA":return{trafficData:[],totalTraffic:0,isFetching:!1};case"CHANGE_FETCHING_STATUS":return Object(f.a)({},e,{isFetching:t.isFetching});default:return e}},O=Object(v.c)({authReducer:p,sendObjectCreatorReducer:w,trafficTableReducer:j}),N=Object(v.d)(O,Object(v.a)(g.a));window.store=N;var A=N,C=b.create({withCredentials:!0,baseURL:"http://localhost:8000/"}),P=function(){try{return C.post("auth",A.getState().authReducer).then((function(e){return console.log(e.data?"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d":"\u041d\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 email \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"),e.data}))}catch(e){console.log(e)}},R=function(){try{return C.post("send-object",A.getState().sendObjectCreatorReducer.object).then((function(e){return console.log(e.data)}))}catch(e){console.log(e)}},F=function(){var e=Object(h.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:8000/traffic-table",{method:"POST",mode:"cors",body:""});case 3:return t=e.sent,a=t.json(),e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),_=Object(s.b)((function(e){return{email:e.authReducer.email,password:e.authReducer.password}}),(function(e){return{updateEmailValue:function(t){return e(function(e){return{type:"UPDATE_EMAIL",newEmail:e}}(t))},updatePasswordValue:function(t){return e(function(e){return{type:"UPDATE_PASSWORD",newPassword:e}}(t))},sendAuthData:function(){return P()}}}))(u),D=a(10),S=a(7),V=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"teal waves-light"},r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("ul",{id:"nav-mobile",className:"hide-on-med-and-down"},r.a.createElement("li",null,r.a.createElement(S.b,{to:"/Auth"},"Auth")),r.a.createElement("li",null,r.a.createElement(S.b,{to:"/send-object"},"Send Object")),r.a.createElement("li",null,r.a.createElement(S.b,{to:"/traffic-table"},"Traffic Table"))))))},I=function(e){return r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{onChange:function(t){var a=t.target.value;e.updateInputValueMethod(a,e.name)},id:e.name,type:e.type,value:e.value}),r.a.createElement("label",{htmlFor:e.name},e.name))},U=function(e){return r.a.createElement("div",{className:"send-object-wrapper"},r.a.createElement("form",{action:"#"},r.a.createElement("h2",null,"Property count: ",e.propertyCount),r.a.createElement("p",{className:"range-field"},r.a.createElement("input",{onChange:function(t){var a=t.target.value;e.changePropertyCount(a)},type:"range",min:"3",max:"9",defaultValue:"3"}))),r.a.createElement("div",{className:"form"},function(){for(var t=[],a=1;a<=e.propertyCount;a++)t[a]=r.a.createElement(I,{name:"property-"+a,type:"text",updateInputValueMethod:e.changePropertyValue});return t}(),r.a.createElement("button",{onClick:e.sendObject,className:"waves-effect waves-light btn"},"SEND OBJECT")))},k=Object(s.b)((function(e){return{object:e.sendObjectCreatorReducer.object,propertyCount:e.sendObjectCreatorReducer.propertyCount}}),(function(e){return{changePropertyCount:function(t){return e(function(e){return{type:"CHANGE_PROPERTY_COUNT",newCount:e}}(t))},changePropertyValue:function(t,a){return e(function(e,t){return{type:"CHANGE_PROPERTY_VALUE",newPropertyValue:e,nameInput:t}}(t,a))},getPropertyValue:function(t){return e(function(e){return{type:"GET_PROPERTY_VALUE",nameInput:e}}(t))},sendObject:R}}))(U),G=a(37),H=a(38),x=a(40),L=a(39),M=a(41),Y=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,e.number),r.a.createElement("td",null,e.title),r.a.createElement("td",null,e.traffic),r.a.createElement("td",null,e.trafficPercent,"%")))},B=(a(73),function(e){return r.a.createElement("div",{className:"table"},r.a.createElement("div",{className:"table-header z-depth-2"},r.a.createElement("h2",null,"Traffic Table"),r.a.createElement("span",null,"Total Traffic: ",e.totalTraffic),r.a.createElement(S.b,{to:"/traffic-table",onClick:e.reload,className:"waves-effect waves-light btn reload-btn"}," ")),e.isFetching?r.a.createElement("div",{className:"preloader-wrapper big active"},r.a.createElement("div",{className:"spinner-layer spinner-waves-light"},r.a.createElement("div",{className:"circle-clipper left"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"gap-patch"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"circle-clipper right"},r.a.createElement("div",{className:"circle"})))):r.a.createElement("table",{className:"striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Number"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Traffic"),r.a.createElement("th",null,"Traffic Percent"))),r.a.createElement("tbody",null,e.trafficData.map((function(e,t){return r.a.createElement(Y,{number:t,title:e.title,traffic:e.traffic,trafficPercent:e.trafficPercent})})))))}),W=function(e){function t(){return Object(G.a)(this,t),Object(x.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(M.a)(t,e),Object(H.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.setFetchingStatus(!0),F().then((function(t){return e.props.setTrafficData(t)})).then((function(t){return e.props.setFetchingStatus(!1)}))}},{key:"render",value:function(){return r.a.createElement(B,{reload:this.componentDidMount.bind(this),totalTraffic:this.props.totalTraffic,trafficData:this.props.trafficData,isFetching:this.props.isFetching})}}]),t}(r.a.Component),J=Object(D.e)(W),z=Object(s.b)((function(e){return{trafficData:e.trafficTableReducer.trafficData,totalTraffic:e.trafficTableReducer.totalTraffic,isFetching:e.trafficTableReducer.isFetching}}),(function(e){return{setTrafficData:function(t){return e(function(e){return{type:"SET_TRAFFIC_DATA",trafficData:e}}(t))},refreshTrafficData:function(){return e({type:"REFRESH_TRAFFIC_DATA"})},setFetchingStatus:function(t){return e(function(e){return{type:"CHANGE_FETCHING_STATUS",isFetching:e}}(t))}}}))(J);var Q=function(e){return r.a.createElement("div",{className:"App"},r.a.createElement(V,null),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(D.a,{path:"/Auth",render:function(){return r.a.createElement(_,{store:e.store})}}),r.a.createElement(D.a,{path:"/send-object",render:function(){return r.a.createElement(k,{store:e.store})}}),r.a.createElement(D.a,{path:"/traffic-table",render:function(){return r.a.createElement(z,{store:e.store})}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(S.a,null,r.a.createElement(s.a,{store:A},r.a.createElement(Q,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.22940717.chunk.js.map